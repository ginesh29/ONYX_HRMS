@{
    ViewData["Title"] = "Employee Profile";
    ViewData["AdditionLinkWithTitle"] = "Employees_/Employee/Profiles";
    string[] sections = { "Personal Detail", "Official Detail", "Education Detail", "Experience Detail", "Documents", "Components", "Addresses" };
}
@model Employee_Find_Result
<link rel="stylesheet" href="~/plugins/bs-stepper/css/bs-stepper.min.css">
<div class="row">
    <div class="col-md-12">
        <div class="card card-default">
            <div class="card-body p-0">
                <div id="stepper" class="bs-stepper">
                    <div class="bs-stepper-header" role="tablist">
                        @foreach (var item in sections.Select((value, i) => new { i, value }))
                        {
                            <div class="step" data-target="#@item.value.ConvertToSlug()-part">
                                <button type="button" class="step-trigger @(item.i!=0 &&string.IsNullOrEmpty(Model.Code)?"disabled":"")" role="tab" aria-controls="@item.value.ConvertToSlug()-part" id="@item.value.ConvertToSlug()-trigger">
                                    <span class="bs-stepper-circle">@(item.i + 1)</span>
                                    <span class="bs-stepper-label">@item.value</span>
                                </button>
                            </div>
                        }
                    </div>
                    <hr />
                    <div class="bs-stepper-content">
                        <form id="emp-profile-frm">
                            <input asp-for="Code" type="hidden" />
                            @foreach (var item in sections.Select((value, i) => new { i, value }))
                            {
                                <div id="@item.value.ConvertToSlug()-part" class="content" role="tabpanel" aria-labelledby="@item.value.ConvertToSlug()-part-trigger">
                                    <div style="min-height:400px">
                                        @if (item.value.Contains("Personal"))
                                        {
                                            <partial name="_PersonalDetail" />
                                        }
                                        else if (item.value.Contains("Official"))
                                        {
                                            <partial name="_OfficialDetail" />
                                        }
                                        else if (item.value.Contains("Education"))
                                        {
                                            <partial name="_EducationDetail" />
                                        }
                                        else if (item.value.Contains("Experience"))
                                        {
                                            <partial name="_ExperienceDetail" />
                                        }
                                        else if (item.value.Contains("Documents"))
                                        {
                                            <partial name="_Documents" />
                                        }
                                        else if (item.value.Contains("Components"))
                                        {
                                            <partial name="_Components" />
                                        }
                                        else if (item.value.Contains("Address"))
                                        {
                                            <div id="Addresses"></div>
                                        }
                                    </div>
                                    <button type="button" class="btn btn-primary @(item.i != 0 ? "visible" :"invisible")" onclick="GoToNextPrev(this,true)">&laquo; Previous</button>
                                    <button type="button" class="btn btn-primary float-right @(item.i != 6 ? "visible" :"invisible")" onclick="GoToNextPrev(this)">Next &raquo;</button>
                                    <a href="/Employee/Profiles" class="btn btn-success float-right @(item.i == 6 ? "visible" :"invisible")">Exit Profile</a>
                                </div>
                            }
                        </form>
                    </div>
                </div>
            </div>
            <!-- /.card-body -->
        </div>
        <!-- /.card -->
    </div>
</div>
<div id="EducationModal" class="modal fade" role="dialog" tabindex='-1'></div>
<div id="ExperienceModal" class="modal fade" role="dialog" tabindex='-1'></div>
<div id="DocumentModal" class="modal fade" role="dialog" tabindex='-1'></div>
<div id="ComponentModal" class="modal fade" role="dialog" tabindex='-1'></div>
<div id="AddressModal" class="modal fade" role="dialog" tabindex='-1'></div>
<div id="PreviewModal" class="modal fade" role="dialog" tabindex='-1'></div>
<style>
    .bootstrap-select:focus {
        border-color: #80bdff; /* Adjust to your desired focus color */
        outline: 0;
        box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25); /* Adjust to your desired focus shadow */
    }

        /* Optional: Change focus style for the dropdown toggle */
        .bootstrap-select:focus .dropdown-toggle {
            box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25); /* Adjust to your desired focus shadow */
        }
</style>
@section scripts {
    <script src="~/plugins/bs-stepper/js/bs-stepper.min.js"></script>
    <script src="~/js/page/employee/employee-profile.js" asp-append-version="true"></script>
    <script>
        var stepper = new Stepper(document.querySelector('#stepper'), {
            linear: false,
            animation: true
        });
    </script>
}