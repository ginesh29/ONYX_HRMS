@{
    ViewData["Title"] = SharedResource["Display"];
}
<div class="card maximized-card">
    <div class="card-header">
        <h3 class="card-title"></h3>
        <div class="card-tools">
            <button type="button" class="btn btn-tool d-none" data-card-widget="card-refresh" data-source="/Queue/DisplayPartial"><i class="fas fa-refresh" id="btn-refresh"></i></button>
            <button type="button" class="btn btn-tool" data-card-widget="maximize"><i class="fas fa-compress"></i></button>
        </div>
    </div>
    <div class="card-body"></div>
</div>
@section scripts {
    <script src="~/lib/microsoft/signalr/dist/browser/signalr.min.js"></script>
    <script>
        var connection = new signalR.HubConnectionBuilder().withUrl("/chatHub").build();
        connection.on("ReceiveTokenCall", function (message, voiceName) {
            speak(message, voiceName);
        });
        connection.on("ReceiveRefreshCall", function () {
            $("#btn-refresh").click();
        });
        connection.on("ReceiveTokenAddCall", function () {
            $("#btn-refresh").click();
        });
        connection.start();
    </script>
}